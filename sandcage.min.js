var SandCage;SandCage=function(){function e(t){var n;return this.apikey=t,this.apikey?(n=this,("undefined"==typeof JSON||null===JSON)&&r("json2.min.js"),this):(e.onerror({status:"error",name:"MissingKey",message:"Provide your SandCage API Key."}),!1)}var t,n,r;return t="0.2",n="https://api.sandcage.com/"+t+"/",e.call=function(t,r,s,a){var l,o,i;null==s&&(s=""),o={key:self.apikey},""!==s&&(o.callback_url=s);for(l in r)o[l]=r[l];return o=JSON.stringify(o),i=new XMLHttpRequest,i.open("POST",""+n+t),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.onreadystatechange=function(){var t,n;if(4===i.readyState){try{n=JSON.parse(i.responseText)}catch(r){t=r,n={status:"error",name:"GenericError",message:t}}return null==n&&(n={status:"error",name:"GenericError",message:"An error occured."}),200!==i.status?e.onerror(n):a?a(n):void 0}},i.send(o)},e.onerror=function(e){return console.log("ERROR: ",{name:e.name,message:e.message,error:e})},r=function(e){var t;t=new XMLHttpRequest,t.open("GET",e,!1),t.onreadystatechange=function(){var n,r;if(n=t.response||t.responseText,4===t.readyState)switch(t.status){case 200:r=document.createElement("script"),r.setAttribute("type","text/javascript"),r.setAttribute("charset","UTF-8"),r.setAttribute("src",e),document.head.appendChild(r),console.log("library loaded: ",e);break;default:console.log("ERROR: library not loaded: ",e)}},t.send(null)},e.getInfo=function(e,t){return null==e||e==={}?!1:null==t?!1:this.call("get-info",e,"",t)},e.listFiles=function(e,t){return null==e||e==={}?!1:null==t?!1:this.call("list-files",e,"",t)},e.scheduleFiles=function(e,t,n){return null==t&&(t=""),null==e||e==={}?!1:this.call("schedule-tasks",e,t,n)},e.destroyFiles=function(e,t,n){return null==t&&(t=""),null==e||e==={}?!1:this.call("destroy-files",e,t,n)},e}();